== C/C++

Given a file named 'example.c' containing:

  // File generated 200X  // :erb: ^generated <%= 2009 %>

  #include < stdio.h>

  void main()
  {
    printf("\nHello World\n");
  }

  void foo() {
    version = "?"; // :erb: version = "<%= 1+1 %>";
    //:erb+1: <%= %w{z(); y(); x();}.sort.join("\n").indent(2) %>
    will be replaced
  }

  /* :erb+0:
  <%= %w{a b c}.map{ |x| "\#include <#{x}.h>" }.join("\n") %>
  */

  // some comment
  void bar()
  {
    printf("We are at the end.");
  }

We can render 'example.c' to a string with the following code.

  @result = ""
  runner  = Erbside::Runner.new(['example.c'], :output=>@result)
  runner.render

The result will be:

  // File generated 2009  // :erb: ^generated <%= 2009 %>

  #include < stdio.h>

  void main()
  {
    printf("\nHello World\n");
  }

  void foo() {
    version = "2"; // :erb: version = "<%= 1+1 %>";
    //:erb+3: <%= %w{z(); y(); x();}.sort.join("\n").indent(2) %>
    x();
    y();
    z();
  }

  /* :erb+3:
  <%= %w{a b c}.map{ |x| "\#include <#{x}.h>" }.join("\n") %>
  */
  #include <a.h>
  #include <b.h>
  #include <c.h>

  // some comment
  void bar()
  {
    printf("We are at the end.");
  }


