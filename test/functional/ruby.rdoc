== Ruby

Given a file named 'example.rb' containing:

  # Stuff
  puts "Testing...."

  #:erb+1: <%= %w{z y x}.sort.join("\n") %>
  blah blah blah

  # generated 200X  #:erb: ^generated <%= 2009 %>

  # Another comment
  VERSION = "?" # :erb: VERSION = "<%= 1+1 %>"

  =begin :erb+0:
  <%= %w{a b c}.map{ |x| "#{x}!" }.join("\n") %>
  =end

  # Some comment
  puts "We are at the end."

We can render 'example.rb' to a string with the following code.

  @result = ""
  runner  = Erbside::Runner.new(['example.rb'], :output=>@result)
  runner.render

The result will be:

  # Stuff
  puts "Testing...."

  #:erb+3: <%= %w{z y x}.sort.join("\n") %>
  x
  y
  z

  # generated 2009  #:erb: ^generated <%= 2009 %>

  # Another comment
  VERSION = "2" # :erb: VERSION = "<%= 1+1 %>"

  =begin :erb+3:
  <%= %w{a b c}.map{ |x| "#{x}!" }.join("\n") %>
  =end
  a!
  b!
  c!

  # Some comment
  puts "We are at the end."

